<section id="page-sub-header">
    <a ng-href="#/createProspect" class="col-sm-2 btn btn-primary pull-right" id="add-new-prospect" ng-show="user" > Add new prospect </a>
</section>

<script>
    $('a[data-toggle = "tooltip"]').tooltip({
        animated: 'fade',
        placement: 'bottom'
    });
</script>
<section id = "prospect-list">
    <div class="col-xs-6" >
        <!--<h2 class = "pull-left" style="margin-top: -1% !important ;margin-left: -3%"> Prospect List </h2>-->
        <span class = "pull-left" style="margin-top: -1% !important ;margin-left: -3%;font-family: calibri; font-size: 27pt;">
            Prospect List </span>
        <!--<div class="right-inner-add-on" style="width: 70%;display: inline;position: relative;white-space: nowrap">-->
            <div class="col-xs-6">

                <input type="search" ng-model="search" class="form-control "  id="searchBar" placeholder="Search By Technology Stack or Domain" />
                <span class="glyphicon glyphicon-search" id="searchIcon" style="float: right"></span>
            </div>

    </div>
    <table class = "table table-striped table-hover" id="viewProspect-table" style="background-color:whitesmoke">
        <thead >
        <th ng-click="orderByField='Name'; reverseSort = !reverseSort" > Prospect Name
                <span ng-show="orderByField == 'Name'">
                    <span ng-show="!reverseSort" class="glyphicon glyphicon-chevron-up"></span>
                    <span ng-show="reverseSort" class="glyphicon glyphicon-chevron-down"></span>
                </span>
            </th>
            <th ng-click="orderByField='CreateDate'; reverseSort = !reverseSort"> Creation Date
                <span ng-show="orderByField == 'CreateDate'">
                    <span ng-show="!reverseSort" class="glyphicon glyphicon-chevron-up"></span>
                    <span ng-show="reverseSort" class="glyphicon glyphicon-chevron-down"></span>
                </span>
            </th>
            <th ng-click="orderByField='TechStack'; reverseSort = !reverseSort"> Tech Stack
                <span ng-show="orderByField == 'TechStack'">
                    <span ng-show="!reverseSort" class="glyphicon glyphicon-chevron-up"></span>
                    <span ng-show="reverseSort" class="glyphicon glyphicon-chevron-down"></span>
                </span>
            </th>
            <th ng-click="orderByField='Domain'; reverseSort = !reverseSort"> Domain
                <span ng-show="orderByField == 'Domain'">
                    <span ng-show="!reverseSort" class="glyphicon glyphicon-chevron-up"></span>
                    <span ng-show="reverseSort" class="glyphicon glyphicon-chevron-down"></span>
                </span>
            </th>
            <th ng-click="orderByField='DesiredTeamSize'; reverseSort = !reverseSort"> Probable Team Size
                <span ng-show="orderByField == 'DesiredTeamSize'">
                    <span ng-show="!reverseSort" class="glyphicon glyphicon-chevron-up"></span>
                    <span ng-show="reverseSort" class="glyphicon glyphicon-chevron-down"></span>
                </span>
            </th>
            <th ng-click="orderByField='noOfDiscussion'; reverseSort = !reverseSort"> No of Discussions
                <span ng-show="orderByField == 'noOfDiscussion'">
                    <span ng-show="!reverseSort" class="glyphicon glyphicon-chevron-up"></span>
                    <span ng-show="reverseSort" class="glyphicon glyphicon-chevron-down"></span>
                </span>
            </th>
            <th ng-click="orderByField='noOfVolunteers'; reverseSort = !reverseSort"> No of Volunteers
                <span ng-show="orderByField == 'noOfVolunteers'">
                    <span ng-show="!reverseSort" class="glyphicon glyphicon-chevron-up"></span>
                    <span ng-show="reverseSort" class="glyphicon glyphicon-chevron-down"></span>
                </span>
            </th>
            <th> Status </th>
            <!--<th> Prospect Notes </th>-->
            <th>
                Action
            </th>
        </thead>
        <tbody>
        <span ng-show="{{!prospect.BUHead}}">
            <tr  ng-show="{{!prospect.BUHead}}" ng-repeat = "prospect in prospects | orderBy:orderByField:reverseSort | filter:searchWord" >
                 <td> {{ prospect.Name }} </td>
                <td> {{ prospect.CreateDate  | date: "dd-MMM-yyyy" }} </td>
                <td> {{ prospect.TechStack }} </td>
                <td> {{ prospect.Domain }} </td>
                <td> {{ prospect.DesiredTeamSize }} </td>
                <td> {{ prospect.noOfDiscussion }} </td>
                <td> {{ prospect.noOfVolunteers }} </td>
                <td> {{ prospect.ProspectStatus }} </td>
                <!--<td> {{ prospect.ProspectNotes }} </td>-->

                <td>
                    <a href = '#/viewParticularProspect' ng-click="saveData(prospect)"  ng-show="!user" id="viewProspect" class = "edit-btn" data-toggle = "tooltip" title = "View prospect information" >
                        <span   class = "glyphicon glyphicon-eye-open" aria-hidden = "true"  ></span>
                    </a>

                    <a href = '#/editProspect' ng-show="user" id="updateProspect" ng-click="saveData(prospect)" class = "edit-btn" data-toggle = "tooltip" title = "View/Update prospect information" >
                        <span  class = "glyphicon glyphicon-edit" aria-hidden = "true" ></span>
                        <!-- <span class = "visuallyhidden"> Edit {{prospect.Name}} </span>-->
                    </a>

                    <a href = '#/discussions' ng-click="saveData(prospect)" id="discussion" class = "edit-btn" data-toggle = "tooltip" title = "Discussions" >
                        <span   class = "glyphicon glyphicon-comment" aria-hidden = "true" ></span>
                    </a>

                    <a href = '#/scheduleCall' ng-show="!user" ng-click="saveData(prospect)" class = "edit-btn" data-toggle = "tooltip" title = "Schedule call" >
                        <span  class = "glyphicon glyphicon-phone-alt" aria-hidden = "true" ></span>
                    </a>

                    <a href = '#/addToClient' ng-show="user"  id="convertToClient" ng-click="saveData(prospect)" class = "edit-btn" data-toggle = "tooltip" title = "Convert to client" >
                        <span  class = "glyphicon glyphicon-usd" aria-hidden = "true" ></span>
                    </a>

                    <a href = '' ng-show="user" ng-click="" class = "edit-btn" id="setReminder" data-toggle = "tooltip" title = "Set up reminder" >
                        <span  class = "glyphicon glyphicon-envelope" aria-hidden = "true" ></span>
                    </a>
                    <a href = '' ng-show="user" ng-click=""  id="deadProspect" class = "edit-btn" data-toggle = "tooltip" title = "Dead prospect" >
                        <span   class = "glyphicon glyphicon-trash" aria-hidden = "true" ></span>
                    </a>

                    <a href = '' ng-show="!user" id="volunteer" ng-click="volunteerProspect(prospect)" class = "edit-btn" data-toggle = "tooltip" title = "Volunteer" >
                        <span   class = "glyphicon glyphicon-hand-up" aria-hidden = "true" ></span>
                    </a>
                </td>
            </tr>
        </span>
        </tbody>
    </table>
</section>
