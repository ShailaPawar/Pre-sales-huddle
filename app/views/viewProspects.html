<section id="page-sub-header">
    <a ng-href="#/create" class="btn btn-primary pull-right" id="add-new-prospect"> Add new prospect </a>
</section>

<script>
    $('a[data-toggle = "tooltip"]').tooltip({
        animated: 'fade',
        placement: 'bottom'
    });
</script>


<section id = "prospect-list">
    <h2 class = "pull-left"> Prospect List </h2>
    <table class = "table table-striped table-hover" style="background-color:whitesmoke">
        <thead>
            <th ng-click="orderByField='Name'; reverseSort = !reverseSort"> Prospect Name
                <span ng-show="orderByField == 'Name'">
                    <span ng-show="!reverseSort" class="glyphicon glyphicon-chevron-up"></span>
                    <span ng-show="reverseSort" class="glyphicon glyphicon-chevron-down"></span>
                </span>
            </th>
            <th ng-click="orderByField='StartDate'; reverseSort = !reverseSort"> Creation Date
                <span ng-show="orderByField == 'StartDate'">
                    <span ng-show="!reverseSort" class="glyphicon glyphicon-chevron-up"></span>
                    <span ng-show="reverseSort" class="glyphicon glyphicon-chevron-down"></span>
                </span>
            </th>
            <th ng-click="orderByField='TechStack'; reverseSort = !reverseSort"> Tech Stack
                <span ng-show="orderByField == 'TechStack'">
                    <span ng-show="!reverseSort" class="glyphicon glyphicon-chevron-up"></span>
                    <span ng-show="reverseSort" class="glyphicon glyphicon-chevron-down"></span>
                </span>
            </th>
            <th ng-click="orderByField='Domain'; reverseSort = !reverseSort"> Domain
                <span ng-show="orderByField == 'Domain'">
                    <span ng-show="!reverseSort" class="glyphicon glyphicon-chevron-up"></span>
                    <span ng-show="reverseSort" class="glyphicon glyphicon-chevron-down"></span>
                </span>
            </th>
            <th ng-click="orderByField='DesiredTeamSize'; reverseSort = !reverseSort"> Probable Team Size
                <span ng-show="orderByField == 'DesiredTeamSize'">
                    <span ng-show="!reverseSort" class="glyphicon glyphicon-chevron-up"></span>
                    <span ng-show="reverseSort" class="glyphicon glyphicon-chevron-down"></span>
                </span>
            </th>
            <th>
                Notes
            </th>
            <th>
                Action
            </th>
        </thead>
        <tbody>
            <tr ng-repeat = "prospect in prospects | orderBy:orderByField:reverseSort">
                <td> {{ prospect.Name }} </td>
                <td> {{ prospect.StartDate  | date: "yyyy-MM-dd"}} </td>
                <td> {{ prospect.TechStack }} </td>
                <td> {{ prospect.Domain }} </td>
                <td> {{ prospect.DesiredTeamSize }} </td>
                <td> {{ prospect.Notes }} </td>
                <td>
                    <a href = '#/edit' ng-click="saveData(prospect)" class = "edit-btn" data-toggle = "tooltip" title = "update prospect">
                        <span class = "glyphicon glyphicon-edit" aria-hidden = "true"></span>
                        <span class = "visuallyhidden"> Edit {{prospect.Name}} </span>
                    </a>
                </td>
            </tr>
        </tbody>
    </table>
</section>
