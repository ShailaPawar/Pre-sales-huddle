<section id="page-sub-header">
    <a ng-href="#/createProspect" class="col-sm-2 btn btn-primary pull-right" id="add-new-prospect"> Add new prospect </a>
</section>

<script>
    $('a[data-toggle = "tooltip"]').tooltip({
        animated: 'fade',
        placement: 'bottom'
    });
</script>
<section id = "prospect-list">
    <div class="col-xs-6" >

        <div class="right-inner-add-on" style="width: 70%;display: inline;position: relative;white-space: nowrap">
            <h2 class = "pull-left" style="margin-top: -1% !important;"> Prospect List </h2>

            <div class="col-xs-6">

                <input type="search" ng-model="search" class="form-control "  id="searchBar" placeholder="Search By Technology Stack or Domain" />
                <span class="glyphicon glyphicon-search" id="searchIcon" style="float: right"></span>
            </div>
        </div>
    </div>
    <table class = "table table-striped table-hover" style="background-color:whitesmoke">
        <thead>
        <th ng-click="orderByField='Name'; reverseSort = !reverseSort"> Prospect Name
                <span ng-show="orderByField == 'Name'">
                    <span ng-show="!reverseSort" class="glyphicon glyphicon-chevron-up"></span>
                    <span ng-show="reverseSort" class="glyphicon glyphicon-chevron-down"></span>
                </span>
            </th>
            <th ng-click="orderByField='CreateDate'; reverseSort = !reverseSort"> Creation Date
                <span ng-show="orderByField == 'CreateDate'">
                    <span ng-show="!reverseSort" class="glyphicon glyphicon-chevron-up"></span>
                    <span ng-show="reverseSort" class="glyphicon glyphicon-chevron-down"></span>
                </span>
            </th>
            <th ng-click="orderByField='TechStack'; reverseSort = !reverseSort"> Tech Stack
                <span ng-show="orderByField == 'TechStack'">
                    <span ng-show="!reverseSort" class="glyphicon glyphicon-chevron-up"></span>
                    <span ng-show="reverseSort" class="glyphicon glyphicon-chevron-down"></span>
                </span>
            </th>
            <th ng-click="orderByField='Domain'; reverseSort = !reverseSort"> Domain
                <span ng-show="orderByField == 'Domain'">
                    <span ng-show="!reverseSort" class="glyphicon glyphicon-chevron-up"></span>
                    <span ng-show="reverseSort" class="glyphicon glyphicon-chevron-down"></span>
                </span>
            </th>
            <th ng-click="orderByField='DesiredTeamSize'; reverseSort = !reverseSort"> Probable Team Size
                <span ng-show="orderByField == 'DesiredTeamSize'">
                    <span ng-show="!reverseSort" class="glyphicon glyphicon-chevron-up"></span>
                    <span ng-show="reverseSort" class="glyphicon glyphicon-chevron-down"></span>
                </span>
            </th>
            <th>
                Notes
            </th>
            <th>
                Action
            </th>
        </thead>
        <tbody>
            <tr ng-repeat = "prospect in prospects | orderBy:orderByField:reverseSort | filter:searchWord" >
                <td> {{ prospect.Name }} </td>
                <td> {{ prospect.CreateDate  | date: "yyyy-MM-dd"}} </td>
                <td> {{ prospect.TechStack }} </td>
                <td> {{ prospect.Domain }} </td>
                <td> {{ prospect.DesiredTeamSize }} </td>
                <td> {{ prospect.Notes }} </td>
                <td>
                    <a href = '#/editProspect' ng-click="saveData(prospect)" class = "edit-btn" data-toggle = "tooltip" title = "update prospect">
                        <span  ng-show="{{!prospect.BUHead}}" class = "glyphicon glyphicon-edit" aria-hidden = "true"></span>
                       <!-- <span class = "visuallyhidden"> Edit {{prospect.Name}} </span>-->
                    </a>
                    <a href = '#/addToClient' ng-click="saveData(prospect)" class = "edit-btn" data-toggle = "tooltip" title = "Add to Client" >
                        <span  ng-show="{{!prospect.BUHead}}" class = "glyphicon glyphicon-ok" aria-hidden = "true" style="margin-left: 10%" ></span>
                    </a>
                    <a href = '#/clientInfo' ng-click="saveData(prospect)" class = "edit-btn" data-toggle = "tooltip" title = "Client Information" >
                        <span  ng-hide="{{!prospect.BUHead}}"class = "glyphicon glyphicon-user" aria-hidden = "true" style="margin-left: 10%" ></span>
                    </a>
                </td>
            </tr>
        </tbody>
    </table>
</section>
