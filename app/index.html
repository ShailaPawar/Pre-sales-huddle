<!doctype html>
<html class = "no-js" ng-app = "PreSales-Huddle" lang = "en">
    <head>
        <meta charset = "utf-8">
        <title ng-bind = "title"> Synerzip pre-sales huddle </title>
        <meta name = "description" content = "">
        <meta name = "viewport" content = "width = device-width">
        <link rel = "stylesheet" href = "http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"/>
        <link rel = "stylesheet" href = "https://cdn.datatables.net/1.10.10/css/dataTables.bootstrap.min.css">
        <link rel = "stylesheet" href = "styles/main.css">

        <head profile = "http://www.w3.org/2005/10/profile">
        <meta name="google-signin-scope" content="profile email">

        <style>
            body {
                background: url("images/syn_grp_pic.jpg") no-repeat center center fixed;
                background-size: cover;
                background-position: top center;
            }
        </style>
    </head>

    <body>
        <div class = "container" >
            <header class = "header">
                <span style="font-family: calibri; font-size: 30pt"> Synerzip pre-sales huddle </span>
                <nav id = "top-nav" class = "pull-right">
                    <ul class = "nav nav-pills">

                        <li ng-class = "{active: isActive('/prospects')}" id = "prospectList" style="visibility:hidden;" disabled>
                            <a ng-href = "#/prospects"> Prospect List
                                <span class = "visuallyhidden" class="btn btn-primary pull-right"> - currently selected </span>
                            </a>
                        </li>
			<li id = "clientList" style="visibility:hidden;" disabled>
                            <a ng-href = "#/clients"> Client List
                                <span class = "visuallyhidden" class="btn btn-primary pull-right"> - currently selected </span>
                            </a>
                        </li>
                        <li class = "sign-out" id = "sign-out" ng-controller="SignOutCtrl" style="visibility:hidden;" disabled>
                            <a ng-click = "signOut();"> Sign Out                                <span class = "visuallyhidden" class="btn btn-primary pull-right"> - currently selected </span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </header>
            <div class = "google-button" id = "g-signinP" ng-controller="GoogleSignInCtrl">
                <!--<div class="g-signin2" ng-click="onSignIn()" data-theme="dark" id = "g-signin"></div>-->
                <!--<div ng-click = "onSignIn()" id = "signin"> Sign In with Google </div>-->
                <div id="gSignInWrapper">
                    <div id="signin" class="customGPlusSignIn" ng-click = "onSignIn()">
                        <span class="icon"></span>
                        <span class="buttonText">Sign in</span>
                    </div>
                </div>
            </div >

            <main class = "main" id = "main">
                <div ng-view = ""></div>
            </main>

            <footer class = "footer" >
                <p><span style="background-color:whitesmoke">Copyright @ Synerzip Inc. All Rights Reserved. </span></p>
            </footer>
        </div>

        <script>
            function onSignIn(googleUser) {
                // Useful data for your client-side scripts:
                var profile = googleUser.getBasicProfile();
                console.log("ID: " + profile.getId());
                console.log("Name: " + profile.getName());
                console.log("Image URL: " + profile.getImageUrl());
                console.log("Email: " + profile.getEmail());

                // The ID token you need to pass to your backend:
                var id_token = googleUser.getAuthResponse().id_token;
                console.log("ID Token: " + id_token);

                window.location = '#/prospects';
                document.getElementById('g-signin').style.visibility='hidden';
                document.getElementById('g-signinP').style.height = '0px';
                document.getElementById('sign-out').style.visibility='visible';
                document.getElementById('home').style.visibility='visible';
            };

            function signOut() {
                var auth2 = gapi.auth2.getAuthInstance();
                auth2.signOut().then(function () {
                    console.log('User signed out.');
                });
                window.location = '#';
                window.location.reload();
                document.getElementById('g-signin').style.visibility='visible';
                document.getElementById('g-signinP').style.removeProperty('height');
                document.getElementById('sign-out').style.visibility='hidden';
                document.getElementById('home').style.visibility='hidden';
            }
        </script>

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID -->
        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r;
                i[r] = i[r] || function () {
                            (i[r].q = i[r].q || []).push(arguments)
                        }, i[r].l = 1 * new Date();
                a = s.createElement(o), m = s.getElementsByTagName(o)[0];
                a.async = 1;
                a.src = g;
                m.parentNode.insertBefore(a, m)
            })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
                ga('create', 'UA-XXXXX-X');
                ga('send', 'pageview');
        </script>

        <script src = "http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
        <script src = "http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular-route.min.js"></script>
        <script src = "http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular-resource.js"></script>

        <script src = "scripts/app.js"></script>
        <script src = "scripts/controllers.js"></script>
    </body>
</html>
